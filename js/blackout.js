!function(){function onDomContentLoaded(){function init(){setTimeout(function(){_bftn_animations[_bftn_options.animation].init(_bftn_options).start()},_bftn_options.delay)}new Array;if(!_bftn_options.always_show_widget&&-1===window.location.href.indexOf("ALWAYS_SHOW_BFTN_WIDGET")){if(_bftn_util.getCookie("_BFTN_WIDGET_SHOWN"))return;var today=new Date;if(today.getFullYear()!==_bftn_options.date.getFullYear()||today.getMonth()!==_bftn_options.date.getMonth()||today.getDate()!==_bftn_options.date.getDate())return}_bftn_util.setCookie("_BFTN_WIDGET_SHOWN","true",365),_bftn_util.injectCSS("_bftn_iframe_css","#_bftn_wrapper { position: fixed; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 20000; -webkit-overflow-scrolling: touch; overflow-y: scroll; } #_bftn_iframe { width: 100%; height: 100%;  }"),init()}"undefined"==typeof _bftn_options&&(_bftn_options={}),void 0===_bftn_options.iframe_base_path&&(_bftn_options.iframe_base_path="https://widget.battleforthenet.com/iframe"),void 0===_bftn_options.animation&&(_bftn_options.animation="main"),void 0===_bftn_options.delay&&(_bftn_options.delay=1e3),void 0===_bftn_options.debug&&(_bftn_options.debug=!1),void 0===_bftn_options.date&&(_bftn_options.date=new Date(2017,6,12)),void 0===_bftn_options.always_show_widget&&(_bftn_options.always_show_widget=!1);var _bftn_animations={main:{options:{modalAnimation:"main"},init:function(options){for(var k in options)this.options[k]=options[k];return this},start:function(){_bftn_util.createIframe();_bftn_util.bindIframeCommunicator(document.getElementById("_bftn_iframe"),this)},stop:function(){_bftn_util.destroyIframe()}}},_bftn_util={injectCSS:function(id,css){var style=document.createElement("style");style.type="text/css",style.id=id,style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),document.head.appendChild(style)},createIframe:function(){var wrapper=document.createElement("div");wrapper.id="_bftn_wrapper";var iframe=document.createElement("iframe");return iframe.id="_bftn_iframe",iframe.src=_bftn_options.iframe_base_path+"/iframe.html",iframe.frameBorder=0,iframe.allowTransparency=!0,iframe.style.display="none",wrapper.appendChild(iframe),document.body.appendChild(wrapper),wrapper},destroyIframe:function(){var iframe=document.getElementById("_bftn_wrapper");iframe.parentNode.removeChild(iframe)},bindIframeCommunicator:function(iframe,animation){function sendMessage(requestType,data){data||(data={}),data.requestType=requestType,data.BFTN_WIDGET_MSG=!0,iframe.contentWindow.postMessage(data,"*")}var eventMethod=window.addEventListener?"addEventListener":"attachEvent";(0,window[eventMethod])("attachEvent"==eventMethod?"onmessage":"message",function(e){if(e.data&&e.data.BFTN_IFRAME_MSG)switch(delete e.data.BFTN_IFRAME_MSG,e.data.requestType){case"getAnimation":iframe.style.display="block",sendMessage("putAnimation",animation.options);break;case"stop":animation.stop()}},!1)},setCookie:function(name,val,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toGMTString();document.cookie=name+"="+val+"; "+expires},getCookie:function(cname){for(var c,name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++)if(0==(c=ca[i].trim()).indexOf(name))return c.substring(name.length,c.length);return""},log:function(){_bftn_options.debug&&console.log.apply(console,arguments)}};switch(document.readyState){case"complete":case"loaded":case"interactive":onDomContentLoaded();break;default:"function"==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",onDomContentLoaded,!1)}}();